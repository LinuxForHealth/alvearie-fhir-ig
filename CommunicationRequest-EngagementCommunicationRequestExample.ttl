@prefix fhir: <http://hl7.org/fhir/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<http://ibm.com/fhir/cdm/CommunicationRequest/EngagementCommunicationRequestExample> a fhir:CommunicationRequest;
  fhir:nodeRole fhir:treeRoot;
  fhir:Resource.id [ fhir:value "EngagementCommunicationRequestExample"];
  fhir:Resource.meta [
     fhir:Element.extension [
       fhir:index 0;
       fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/tenant-id" ];
       fhir:Extension.valueString [ fhir:value "99999" ]
     ], [
       fhir:index 1;
       fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/ingestion-batch-id" ];
       fhir:Extension.valueString [ fhir:value "b069a545-9506-40c6-8498-23de2e189143" ]
     ], [
       fhir:index 2;
       fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/process-organization" ];
       fhir:Extension.valueString [ fhir:value "IBM" ]
     ], [
       fhir:index 3;
       fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/process-type" ];
       fhir:Extension.valueString [ fhir:value "Engagement Communication" ]
     ], [
       fhir:index 4;
       fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/process-name" ];
       fhir:Extension.valueString [ fhir:value "ATC" ]
     ], [
       fhir:index 5;
       fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/process-version" ];
       fhir:Extension.valueString [ fhir:value "1.0" ]
     ], [
       fhir:index 6;
       fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/process-timestamp" ];
       fhir:Extension.valueDateTime [ fhir:value "2020-03-01T03:05:00Z"^^xsd:dateTime ]
     ];
     fhir:Meta.source [ fhir:value "http://ibm.com/fhir/engagement" ];
     fhir:Meta.profile [
       fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/engagement-communication-request";
       fhir:index 0;
       fhir:link <http://ibm.com/fhir/cdm/StructureDefinition/engagement-communication-request>
     ];
     fhir:Meta.tag [
       fhir:index 0;
       fhir:Coding.system [ fhir:value "http://ibm.com/fhir/cdm/CodeSystem/process-meta-source-classification" ];
       fhir:Coding.code [ fhir:value "derived" ]
     ]
  ];
  fhir:DomainResource.text [
     fhir:Narrative.status [ fhir:value "extensions" ];
     fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><div style=\"display: inline-block; background-color: #d9e0e7; padding: 6px; margin: 4px; border: 1px solid #8da1b4; border-radius: 5px; line-height: 60%\"><p style=\"margin-bottom: 0px\">Resource \"EngagementCommunicationRequestExample\" </p><p style=\"margin-bottom: 0px\">Information Source: http://ibm.com/fhir/engagement!</p><p style=\"margin-bottom: 0px\">Profile: <a href=\"StructureDefinition-engagement-communication-request.html\">Engagement CommunicationRequest</a></p><p style=\"margin-bottom: 0px\">Tag: <span title=\"{http://ibm.com/fhir/cdm/CodeSystem/process-meta-source-classification http://ibm.com/fhir/cdm/CodeSystem/process-meta-source-classification}\">http://ibm.com/fhir/cdm/CodeSystem/process-meta-source-classification</span></p></div><p><b>Communication Contact</b>: 808-248-8689(MOBILE)</p><p><b>Communication Template</b>: dm-template</p><p><b>Communication Payload Data</b>: {shortCode = '888-111'}</p><p><b>Communication Product</b>: IHE <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"CodeSystem-eng-product.html\">Engagement Product Codes</a>#ihe)</span></p><p><b>Conversation Type</b>: Health reminders associated with a gap in care <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"CodeSystem-eng-conversation-type.html\">Engagement Conversation Type Codes</a>#gap-in-care)</span></p><p><b>Communication On-Behalf Of</b>: <a href=\"PractitionerRole-CDMPractitionerRole-Attributed-PCP.html\">PractitionerRole/CDMPractitionerRole-Attributed-PCP</a></p><p><b>Communication Measure</b>: <a href=\"Measure-QualityMeasureExample.html\">Measure/QualityMeasureExample</a> \"Diabetes_HbA1c_Test_Performed\"</p><p><b>Communication Care Gap</b>: dm-hba1c-caregap-poor-control</p><p><b>Communication Priority Sequence</b>: 1</p><blockquote><p><b>Communication Reengagement</b></p><p><b>value</b>: 1</p><p><b>value</b>: 1st reengagement</p></blockquote><p><b>Communication Language</b>: en-US</p><p><b>Communication Retry Limit</b>: 5</p><p><b>Communication Vendor</b>: <a href=\"Organization/Genesis\">Organization/Genesis</a></p><p><b>identifier</b>: Derived Resource Identifier: 0bd930b0-e2fc-4967-957d-a6719ecde9b4</p><p><b>status</b>: completed</p><p><b>statusReason</b>: In-Process - Communication request complete <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"CodeSystem-eng-communication-reqeust-status-reason.html\">Engagement Communication Request Status Reason Codes</a>#request-complete)</span></p><p><b>category</b>: Notification <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"http://terminology.hl7.org/3.0.0/CodeSystem-communication-category.html\">CommunicationCategory</a>#notification)</span></p><p><b>priority</b>: routine</p><p><b>medium</b>: Sms Text <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"CodeSystem-eng-communication-mode.html\">Engagement Communication Mode Codes</a>#sms)</span></p><p><b>subject</b>: <a href=\"Patient/Patient1\">Patient/Patient1</a></p><p><b>about</b>: <a href=\"DetectedIssue-CareGapDetectedIssueExample.html\">DetectedIssue/CareGapDetectedIssueExample</a></p><h3>Payloads</h3><table class=\"grid\"><tr><td>-</td><td><b>Content[x]</b></td></tr><tr><td>*</td><td>Our records indicate you are overdue for a medical appointment.  Please contact [PRACTIIONER-NAME] at [FACILITY-NAME], [FACILTY-PHONE] to schedule an appointment.</td></tr></table><p><b>occurrence</b>: 2020-06-16T09:00:00Z --&gt; 2020-06-16T20:00:00Z</p><p><b>authoredOn</b>: 2020-06-16T03:00:00Z</p><p><b>requester</b>: <a href=\"Organization/IBM\">Organization/IBM</a></p><p><b>recipient</b>: <a href=\"Patient/Patient1\">Patient/Patient1</a></p><p><b>sender</b>: <a href=\"Organization/IBM\">Organization/IBM</a></p></div>"
  ];
  fhir:DomainResource.extension [
     fhir:index 0;
     fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/communication-contact" ];
     fhir:Extension.valueContactPoint [
       fhir:ContactPoint.system [ fhir:value "sms" ];
       fhir:ContactPoint.value [ fhir:value "808-248-8689" ];
       fhir:ContactPoint.use [ fhir:value "mobile" ]
     ]
  ], [
     fhir:index 1;
     fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/communication-template" ];
     fhir:Extension.valueString [ fhir:value "dm-template" ]
  ], [
     fhir:index 2;
     fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/communication-payload-data" ];
     fhir:Extension.valueString [ fhir:value "{shortCode = '888-111'}" ]
  ], [
     fhir:index 3;
     fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/communication-product" ];
     fhir:Extension.valueCodeableConcept [
       fhir:CodeableConcept.coding [
         fhir:index 0;
         fhir:Coding.system [ fhir:value "http://ibm.com/fhir/cdm/CodeSystem/eng-product" ];
         fhir:Coding.code [ fhir:value "ihe" ]
       ]
     ]
  ], [
     fhir:index 4;
     fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/conversation-type" ];
     fhir:Extension.valueCodeableConcept [
       fhir:CodeableConcept.coding [
         fhir:index 0;
         fhir:Coding.system [ fhir:value "http://ibm.com/fhir/cdm/CodeSystem/eng-conversation-type" ];
         fhir:Coding.code [ fhir:value "gap-in-care" ]
       ]
     ]
  ], [
     fhir:index 5;
     fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/communication-on-behalf-of" ];
     fhir:Extension.valueReference [
       fhir:link <http://ibm.com/fhir/cdm/PractitionerRole/CDMPractitionerRole-Attributed-PCP>;
       fhir:Reference.reference [ fhir:value "PractitionerRole/CDMPractitionerRole-Attributed-PCP" ]
     ]
  ], [
     fhir:index 6;
     fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/communication-measure" ];
     fhir:Extension.valueReference [
       fhir:link <http://ibm.com/fhir/cdm/Measure/QualityMeasureExample>;
       fhir:Reference.reference [ fhir:value "Measure/QualityMeasureExample" ]
     ]
  ], [
     fhir:index 7;
     fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/communication-care-gap" ];
     fhir:Extension.valueString [ fhir:value "dm-hba1c-caregap-poor-control" ]
  ], [
     fhir:index 8;
     fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/communication-priority-sequence" ];
     fhir:Extension.valueDecimal [ fhir:value "1"^^xsd:decimal ]
  ], [
     fhir:index 9;
     fhir:Element.extension [
       fhir:index 0;
       fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/reengagement-value" ];
       fhir:Extension.valueUnsignedInt [ fhir:value "1"^^xsd:nonNegativeInteger ]
     ], [
       fhir:index 1;
       fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/reengagement-display" ];
       fhir:Extension.valueString [ fhir:value "1st reengagement" ]
     ];
     fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/communication-reengagement" ]
  ], [
     fhir:index 10;
     fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/communication-language" ];
     fhir:Extension.valueCode [ fhir:value "en-US" ]
  ], [
     fhir:index 11;
     fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/communication-retry-limt" ];
     fhir:Extension.valueString [ fhir:value "5" ]
  ], [
     fhir:index 12;
     fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/communication-vendor" ];
     fhir:Extension.valueReference [
       fhir:link <http://ibm.com/fhir/cdm/Organization/Genesis>;
       fhir:Reference.reference [ fhir:value "Organization/Genesis" ]
     ]
  ];
  fhir:CommunicationRequest.identifier [
     fhir:index 0;
     fhir:Identifier.type [
       fhir:CodeableConcept.coding [
         fhir:index 0;
         fhir:Coding.system [ fhir:value "http://ibm.com/fhir/cdm/CodeSystem/identifier-type" ];
         fhir:Coding.code [ fhir:value "DRI" ]
       ]
     ];
     fhir:Identifier.system [ fhir:value "http://ibm.com/fhir/cdm/engagement-communication-request" ];
     fhir:Identifier.value [ fhir:value "0bd930b0-e2fc-4967-957d-a6719ecde9b4" ];
     fhir:Identifier.assigner [
       fhir:Reference.display [ fhir:value "IBM" ]
     ]
  ];
  fhir:CommunicationRequest.status [ fhir:value "completed"];
  fhir:CommunicationRequest.statusReason [
     fhir:Element.extension [
       fhir:index 0;
       fhir:Extension.url [ fhir:value "http://ibm.com/fhir/cdm/StructureDefinition/process-timestamp" ];
       fhir:Extension.valueDateTime [ fhir:value "2020-03-01T03:06:01Z"^^xsd:dateTime ]
     ];
     fhir:CodeableConcept.coding [
       fhir:index 0;
       fhir:Coding.system [ fhir:value "http://ibm.com/fhir/cdm/CodeSystem/eng-communication-reqeust-status-reason" ];
       fhir:Coding.code [ fhir:value "request-complete" ];
       fhir:Coding.display [ fhir:value "In-Process - Communication request complete" ]
     ]
  ];
  fhir:CommunicationRequest.category [
     fhir:index 0;
     fhir:CodeableConcept.coding [
       fhir:index 0;
       fhir:Coding.system [ fhir:value "http://terminology.hl7.org/CodeSystem/communication-category" ];
       fhir:Coding.code [ fhir:value "notification" ]
     ]
  ];
  fhir:CommunicationRequest.priority [ fhir:value "routine"];
  fhir:CommunicationRequest.medium [
     fhir:index 0;
     fhir:CodeableConcept.coding [
       fhir:index 0;
       fhir:Coding.system [ fhir:value "http://ibm.com/fhir/cdm/CodeSystem/eng-communication-mode" ];
       fhir:Coding.code [ fhir:value "sms" ]
     ]
  ];
  fhir:CommunicationRequest.subject [
     fhir:link <http://ibm.com/fhir/cdm/Patient/Patient1>;
     fhir:Reference.reference [ fhir:value "Patient/Patient1" ]
  ];
  fhir:CommunicationRequest.about [
     fhir:index 0;
     fhir:link <http://ibm.com/fhir/cdm/DetectedIssue/CareGapDetectedIssueExample>;
     fhir:Reference.reference [ fhir:value "DetectedIssue/CareGapDetectedIssueExample" ]
  ];
  fhir:CommunicationRequest.payload [
     fhir:index 0;
     fhir:CommunicationRequest.payload.contentString [ fhir:value "Our records indicate you are overdue for a medical appointment.  Please contact [PRACTIIONER-NAME] at [FACILITY-NAME], [FACILTY-PHONE] to schedule an appointment." ]
  ];
  fhir:CommunicationRequest.occurrencePeriod [
     fhir:Period.start [ fhir:value "2020-06-16T09:00:00Z"^^xsd:dateTime ];
     fhir:Period.end [ fhir:value "2020-06-16T20:00:00Z"^^xsd:dateTime ]
  ];
  fhir:CommunicationRequest.authoredOn [ fhir:value "2020-06-16T03:00:00Z"^^xsd:dateTime];
  fhir:CommunicationRequest.requester [
     fhir:link <http://ibm.com/fhir/cdm/Organization/IBM>;
     fhir:Reference.reference [ fhir:value "Organization/IBM" ]
  ];
  fhir:CommunicationRequest.recipient [
     fhir:index 0;
     fhir:link <http://ibm.com/fhir/cdm/Patient/Patient1>;
     fhir:Reference.reference [ fhir:value "Patient/Patient1" ]
  ];
  fhir:CommunicationRequest.sender [
     fhir:link <http://ibm.com/fhir/cdm/Organization/IBM>;
     fhir:Reference.reference [ fhir:value "Organization/IBM" ]
  ] .

# - ontology header ------------------------------------------------------------

<http://ibm.com/fhir/cdm/CommunicationRequest/EngagementCommunicationRequestExample.ttl> a owl:Ontology;
  owl:imports fhir:fhir.ttl .

# -------------------------------------------------------------------------------------

